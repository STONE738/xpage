<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Phúc Bùi – Tools cá nhân</title>
  <meta name="description" content="Kho công cụ cá nhân chạy trên GitHub Pages – làm nhanh, dùng online." />
  <style>
    :root{
      --bg:#0b0d10;--card:#12161b;--muted:#8b95a1;--txt:#e5e7eb;
      --acc:#22c55e;--acc2:#38bdf8;--line:#1f2937
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--txt);
      font:14px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif}
    a{color:inherit;text-decoration:none}
    .wrap{display:grid;grid-template-columns:260px 1fr;min-height:100dvh}
    .side{border-right:1px solid var(--line);background:linear-gradient(180deg,#0e1217, #0a0d11)}
    .brand{display:flex;align-items:center;gap:10px;padding:16px;border-bottom:1px solid var(--line)}
    .logo{width:34px;height:34px;border-radius:10px;background:radial-gradient(circle at 30% 30%, var(--acc2), transparent),radial-gradient(circle at 70% 70%, var(--acc), transparent);box-shadow:0 0 0 1px #1f2937}
    .brand h1{font-size:16px;margin:0}
    .muted{color:var(--muted)}
    .nav{display:flex;flex-direction:column;padding:8px}
    .nav .group{padding:8px 12px;font-weight:600;color:#b9c2cf;text-transform:uppercase;letter-spacing:.06em;font-size:11px}
    .nav button{display:flex;justify-content:space-between;align-items:center;width:100%;gap:10px;padding:10px 12px;margin:4px 8px;border-radius:10px;border:1px solid transparent;background:transparent;color:var(--txt);cursor:pointer}
    .nav button:hover{background:#0f1319;border-color:#1f2937}
    .nav button.active{background:#0f172a;border-color:#243044}
    .tag{font-size:11px;color:#a7f3d0;background:#064e3b;border:1px solid #0b624a;padding:2px 6px;border-radius:999px}

    .main{display:flex;flex-direction:column;min-width:0}
    .top{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid var(--line);backdrop-filter:saturate(140%) blur(6px);position:sticky;top:0;background:rgba(11,13,16,.7)}
    .top .title{display:flex;align-items:center;gap:10px}
    .top h2{font-size:16px;margin:0}
    .actions{display:flex;gap:8px}
    .btn{background:#111827;border:1px solid #273244;color:var(--txt);padding:8px 12px;border-radius:10px;cursor:pointer}
    .btn:hover{background:#0b1220}
    .btn.acc{background:var(--acc);border-color:#166534;color:#052e16;font-weight:700}

    .content{padding:16px}
    .card{background:var(--card);border:1px solid var(--line);border-radius:16px;box-shadow:0 6px 18px rgba(0,0,0,.25)}

    /* Iframe host for tools */
    .tool-host{height:calc(100dvh - 92px);min-height:420px}
    .tool-host iframe{width:100%;height:100%;border:0;border-radius:16px;background:#0f1216}

    /* Responsive */
    .menu-btn{display:none}
    @media (max-width:900px){
      .wrap{grid-template-columns:1fr}
      .side{position:fixed;inset:0 40% 0 0;transform:translateX(-100%);transition:transform .25s ease;z-index:40}
      .side.open{transform:translateX(0)}
      .overlay{position:fixed;inset:0;background:rgba(0,0,0,.35);backdrop-filter:blur(2px);z-index:30;display:none}
      .overlay.show{display:block}
      .menu-btn{display:inline-flex}
    }
    footer{padding:14px 16px;color:var(--muted);font-size:12px;border-top:1px solid var(--line)}
    .pill{display:inline-flex;align-items:center;gap:6px;padding:2px 8px;border-radius:999px;background:#0f172a;border:1px solid #1f2a3d}
  </style>
</head>
<body>
  <div class="wrap">
    <!-- Sidebar -->
    <aside class="side" id="sidebar">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>Phúc Bùi – Tools</h1>
          <div class="muted">Chạy trên GitHub Pages</div>
        </div>
      </div>
      <nav class="nav">
        <div class="group">Danh mục</div>
        <button class="active" data-route="home">
          <span>Trang chủ</span>
          <span class="pill">/</span>
        </button>
        <button data-route="2d-timeline">
          <span>Thời Gian Khai Triển 2D</span>
          <span class="tag">Tool</span>
        </button>
        <button data-route="bo-sung">
          <span>Tool khác (trống)</span>
          <span class="pill">soon</span>
        </button>
      </nav>
    </aside>

    <!-- Main -->
    <main class="main">
      <div class="top">
        <div class="title">
          <button class="btn menu-btn" id="menuBtn">☰</button>
          <h2 id="pageTitle">Trang chủ</h2>
        </div>
        <div class="actions">
          <a class="btn" href="https://github.com/new" target="_blank" rel="noreferrer">New repo</a>
          <a class="btn acc" id="howToBtn" href="#home">Hướng dẫn</a>
        </div>
      </div>

      <div class="content">
        <!-- Home -->
        <section class="card" id="view-home" style="padding:16px 16px 0">
          <h3 style="margin:0 0 8px">Kho công cụ cá nhân</h3>
          <p class="muted" style="margin:0 0 14px">Dùng online, lưu localStorage, triển khai cực nhẹ trên GitHub Pages. Mỗi tool có thể là 1 file độc lập (HTML) hoặc nhúng trực tiếp.</p>
          <ol style="margin:0 0 16px 18px;line-height:1.7">
            <li><b>Tạo repo</b> trên GitHub (ví dụ: <code>phucbui-tools</code>). Bật <b>Settings → Pages → Deploy from branch</b>, chọn nhánh <code>main</code> và thư mục <code>/root</code>.</li>
            <li><b>Tải lên</b> file <code>index.html</code> này và file tool của bạn <code>2D_Timeline_V8.html</code> vào cùng thư mục.</li>
            <li>Truy cập đường dẫn Pages (dạng <code>https://&lt;username&gt;.github.io/&lt;repo&gt;/</code>). Tab "Thời Gian Khai Triển 2D" sẽ <b>nhúng trực tiếp</b> file của bạn.</li>
            <li>Thêm tool mới: sao chép 1 file HTML khác (ví dụ <code>my_tool.html</code>) và thêm 1 nút trong sidebar (xem phần <code>// TODO: thêm route mới</code> ở dưới).</li>
          </ol>
          <div style="display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px">
            <div class="card" style="padding:14px">
              <div class="muted">Tổng quát</div>
              <div style="font-weight:700;margin-top:4px">Single-Page • Nhanh • Dark UI</div>
            </div>
            <div class="card" style="padding:14px">
              <div class="muted">Triển khai</div>
              <div style="font-weight:700;margin-top:4px">Thuần HTML/CSS/JS – không cần build</div>
            </div>
            <div class="card" style="padding:14px">
              <div class="muted">Riêng tư</div>
              <div style="font-weight:700;margin-top:4px">Dữ liệu lưu cục bộ (localStorage)</div>
            </div>
          </div>
          <footer>
            <span>© <span id="year"></span> Phúc Bùi.</span>
            <span style="float:right">Powered by GitHub Pages</span>
          </footer>
        </section>

        <!-- Tool: 2D Timeline (nhúng chính file bạn đã có) -->
        <section class="tool-host" id="view-2d-timeline" hidden>
          <!-- Nếu file 2D_Timeline_V8.html nằm cùng thư mục với index.html thì đường dẫn dưới đây hoạt động ngay. -->
          <iframe src="2D_Timeline_V8.html" title="Thời Gian Khai Triển 2D" loading="lazy"></iframe>
        </section>

        <!-- Placeholder tool -->
        <section class="card" id="view-bo-sung" hidden style="padding:16px">
          <h3 style="margin:0 0 8px">Tool trống</h3>
          <p class="muted">Thêm file HTML mới (ví dụ <code>my_tool.html</code>) rồi đổi đoạn iframe theo tên file bạn đặt.</p>
          <pre style="background:#0d131a;border:1px solid #1f2937;border-radius:10px;padding:12px;white-space:pre-wrap">&lt;section class="tool-host" id="view-my-tool" hidden&gt;
  &lt;iframe src="my_tool.html"&gt;&lt;/iframe&gt;
&lt;/section&gt;</pre>
        </section>
      </div>
    </main>
  </div>

  <div class="overlay" id="overlay"></div>

  <script>
    // ======= Mini router bằng hash =======
    const routes = {
      'home': {title: 'Trang chủ', el: document.getElementById('view-home')},
      '2d-timeline': {title: 'Thời Gian Khai Triển 2D', el: document.getElementById('view-2d-timeline')},
      'bo-sung': {title: 'Tool khác (trống)', el: document.getElementById('view-bo-sung')},
      // TODO: thêm route mới theo mẫu: 'my-tool': {title:'Tên tool', el: document.getElementById('view-my-tool')}
    };

    const pageTitle = document.getElementById('pageTitle');
    const navButtons = Array.from(document.querySelectorAll('.nav button'));

    function setActive(route){
      // Ẩn/hiện view
      Object.entries(routes).forEach(([k,v])=>{ v.el.hidden = (k!==route); });
      // Cập nhật tiêu đề
      pageTitle.textContent = routes[route]?.title || 'Trang chủ';
      // Active nav
      navButtons.forEach(btn=>btn.classList.toggle('active', btn.dataset.route===route));
      // Đóng sidebar (mobile)
      sidebar.classList.remove('open'); overlay.classList.remove('show');
      // Lưu trạng thái
      localStorage.setItem('activeRoute', route);
    }

    function parseHash(){
      const hash = location.hash.replace('#','');
      const route = hash || localStorage.getItem('activeRoute') || 'home';
      return route;
    }

    window.addEventListener('hashchange', ()=> setActive(parseHash()));

    // Nav click → đổi hash
    navButtons.forEach(btn=>btn.addEventListener('click',()=>{
      location.hash = btn.dataset.route;
    }));

    // Sidebar toggle (mobile)
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('overlay');
    document.getElementById('menuBtn')?.addEventListener('click', ()=>{
      sidebar.classList.add('open'); overlay.classList.add('show');
    });
    overlay.addEventListener('click', ()=>{ sidebar.classList.remove('open'); overlay.classList.remove('show'); });

    // Năm footer
    document.getElementById('year').textContent = new Date().getFullYear();

    // Khởi tạo
    setActive(parseHash());
  </script>
</body>
</html>
